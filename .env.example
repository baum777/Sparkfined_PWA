# ============================================
# Sparkfined PWA - Environment Variables
# ============================================
# 
# ‚ö†Ô∏è  SECURITY WARNING:
# - Variables with VITE_ prefix are EXPOSED in browser bundle
# - NEVER use VITE_ prefix for API keys or secrets
# - Use Backend API proxies to protect sensitive keys
# 
# Copy this file to `.env.local` for local development
# Add to Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables for production
# 
# ============================================

# ============================================
# üî¥ REQUIRED - FRONTEND (PUBLIC)
# ============================================

# App Version (displayed in settings footer)
VITE_APP_VERSION=1.0.0-beta

# Deployment Environment (auto-set by Vercel, can be overridden)
# Options: production | preview | development
VITE_VERCEL_ENV=production

# ============================================
# üü° DATA PROVIDER URLs (PUBLIC - NO SECRETS)
# ============================================

# Moralis API Base URL (public, no secrets)
VITE_MORALIS_BASE=https://deep-index.moralis.io/api/v2.2

# DexPaprika API Base URL (public, no secrets)
VITE_DEXPAPRIKA_BASE=https://api.dexpaprika.com

# External API Base URLs (public, no secrets)
DEX_API_BASE=https://api.dexscreener.com
DEX_API_TIMEOUT=5000
PUMPFUN_API_BASE=https://api.pump.fun
PUMPFUN_API_TIMEOUT=5000

# ============================================
# üü¢ DATA PROVIDER CONFIGURATION (PUBLIC)
# ============================================

# Primary data provider: dexpaprika | moralis | mock
VITE_DATA_PRIMARY=dexpaprika

# Secondary fallback: moralis | none
VITE_DATA_SECONDARY=moralis

# Additional fallbacks (comma-separated)
VITE_DATA_FALLBACKS=dexscreener,pumpfun

# ============================================
# üü¢ FEATURE FLAGS (PUBLIC)
# ============================================

# Enable/Disable Features
VITE_ENABLE_AI_TEASER=false
VITE_ENABLE_ANALYTICS=false
VITE_ENABLE_METRICS=true
VITE_ENABLE_DEBUG=false
VITE_DEBUG=false

# Provider Selection
VITE_ORDERFLOW_PROVIDER=none
VITE_WALLETFLOW_PROVIDER=none

# AI Provider: none | openai | anthropic | xai
# ‚ö†Ô∏è  Note: Both ANALYSIS_AI_PROVIDER (backend) and VITE_ANALYSIS_AI_PROVIDER (frontend) are used
VITE_ANALYSIS_AI_PROVIDER=none
ANALYSIS_AI_PROVIDER=none

# ============================================
# üü¢ PUSH NOTIFICATIONS (PUBLIC KEY ONLY)
# ============================================

# VAPID Public Key (safe for frontend)
# Generate with: npx web-push generate-vapid-keys
VITE_VAPID_PUBLIC_KEY=

# ============================================
# üî¥ REQUIRED - BACKEND (SECRETS!)
# ============================================

# Moralis API Key (BACKEND ONLY - used in /api/moralis proxy)
# Get from: https://admin.moralis.io/
MORALIS_API_KEY=
MORALIS_BASE=https://deep-index.moralis.io/api/v2.2

# DexPaprika API Key (BACKEND ONLY - used in /api/dexpaprika proxy)
# Get from: https://www.dexpaprika.com/api
DEXPAPRIKA_API_KEY=
DEXPAPRIKA_BASE=https://api.dexpaprika.com

# ============================================
# üü° AI SERVICES (BACKEND ONLY - SECRETS!)
# ============================================

# OpenAI API Key (BACKEND ONLY - used in /api/ai/assist)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Anthropic/Claude API Key (BACKEND ONLY)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# xAI/Grok API Key (BACKEND ONLY)
# Get from: Contact xAI team
XAI_API_KEY=
XAI_BASE_URL=https://api.x.ai/v1

# Grok API Key (alternative name used in some places)
GROK_API_KEY=

# AI Configuration
AI_MAX_COST_USD=0.25
AI_CACHE_TTL_SEC=3600

# ============================================
# üü° PUSH NOTIFICATIONS (BACKEND - SECRETS!)
# ============================================

# VAPID Keys (BACKEND ONLY - private keys!)
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:admin@sparkfined.com
VAPID_CONTACT=mailto:admin@sparkfined.com

# ============================================
# üü° REDIS/KV STORE (BACKEND - SECRETS!)
# ============================================

# Upstash Redis (for alerts, caching, etc.)
# Get from: https://upstash.com/
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ============================================
# üü¢ WEBHOOKS & CRON (BACKEND - SECRETS!)
# ============================================

# Cron Job Secret (for auth on /api/cron endpoints)
CRON_SECRET=

# Moralis Webhook Secret (for verifying webhook signatures)
MORALIS_WEBHOOK_SECRET=

# Monitored Wallet Address (for wallet webhook detection)
MONITORED_WALLET=

# ============================================
# üü¢ PERFORMANCE BUDGETS (OPTIONAL)
# ============================================

# Performance monitoring thresholds (in milliseconds)
PERF_BUDGET_START_MS=1000
PERF_BUDGET_API_MEDIAN_MS=500
PERF_BUDGET_AI_TEASER_P95_MS=2000
PERF_BUDGET_REPLAY_OPEN_P95_MS=350
PERF_BUDGET_JOURNAL_SAVE_MS=60
PERF_BUDGET_JOURNAL_GRID_MS=250
PERF_BUDGET_EXPORT_ZIP_P95_MS=800

# ============================================
# üîµ VERCEL AUTO-SET (DO NOT ADD MANUALLY)
# ============================================

# These are automatically set by Vercel during deployment:
# VERCEL=1
# VERCEL_ENV=production|preview|development
# VERCEL_URL=<auto-generated-url>
# VERCEL_GIT_COMMIT_SHA=<commit-hash>

# ============================================
# üìã QUICK SETUP GUIDE
# ============================================
#
# MINIMUM REQUIRED FOR MVP:
# -------------------------
# ‚úÖ VITE_APP_VERSION=1.0.0-beta
# ‚úÖ MORALIS_API_KEY=xxx (BACKEND)
# ‚úÖ MORALIS_BASE=https://deep-index.moralis.io/api/v2.2
# 
# OR
# 
# ‚úÖ DEXPAPRIKA_API_KEY=xxx (BACKEND)
# ‚úÖ DEXPAPRIKA_BASE=https://api.dexpaprika.com
#
# RECOMMENDED FOR FULL FEATURES:
# -------------------------------
# ‚úÖ OPENAI_API_KEY=xxx (for AI analysis)
# ‚úÖ VAPID keys (for push notifications)
# ‚úÖ UPSTASH_REDIS_REST_URL + TOKEN (for alerts)
#
# SECURITY CHECKLIST:
# -------------------
# ‚ùå NEVER add VITE_ prefix to API keys
# ‚ùå NEVER commit .env.local to git (already in .gitignore)
# ‚úÖ ALWAYS use backend API proxies for sensitive keys:
#    - /api/moralis/token/[address] ‚Üí proxies Moralis
#    - /api/dexpaprika/tokens/[address] ‚Üí proxies DexPaprika
#    - /api/ai/assist ‚Üí proxies OpenAI/Anthropic/xAI
# ‚úÖ ALWAYS rotate keys every 90 days
# ‚úÖ ALWAYS use different keys for dev/staging/prod
#
# ============================================
# üîó WHERE TO GET API KEYS
# ============================================
#
# Moralis:        https://admin.moralis.io/
# DexPaprika:     https://www.dexpaprika.com/api
# OpenAI:         https://platform.openai.com/api-keys
# Anthropic:      https://console.anthropic.com/
# xAI/Grok:       Contact xAI team
# Upstash Redis:  https://upstash.com/
# VAPID Keys:     Run: npx web-push generate-vapid-keys
#
# ============================================
# üìä HEALTH CHECK
# ============================================
#
# After deployment, verify configuration:
# GET /api/health
#
# Should return:
# {
#   "ok": true,
#   "status": "healthy",
#   "checks": {
#     "env": {
#       "dexpaprika": true,
#       "openai": true,
#       "vapid": true,
#       "vapidPrivate": true
#     }
#   }
# }
#
# ============================================
